agents:
  friday:
    heartbeat_offset: 2
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Friday
    role: Developer
  fury:
    heartbeat_offset: 10
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Fury
    role: Developer
  jarvis:
    heartbeat_offset: 0
    level: lead
    mcp_servers:
    - github
    - telegram
    mission: verify
    name: Jarvis
    role: Squad Lead / Coordinator
  loki:
    heartbeat_offset: 14
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Loki
    role: Developer
  pepper:
    heartbeat_offset: 12
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Pepper
    role: Developer
  quill:
    always_run:
      prompt: "Run your infrastructure monitoring checklist NOW.\nUse your DigitalOcean\
        \ MCP tools to check:\n1. List all apps \u2014 check each status (ACTIVE/DEPLOYING/ERROR)\n\
        2. List all databases \u2014 check each status (ONLINE/MAINTENANCE/etc)\n\
        3. List all droplets \u2014 check each status (active/off)\n4. For any app\
        \ NOT in ACTIVE state, get its recent deployments and logs\n5. Check for any\
        \ deployment failures in the last hour\nWrite a health summary. Report issues\
        \ with severity.\nIf everything is healthy, confirm all-clear with counts.\n"
      timeout: 60
    heartbeat_offset: 16
    level: specialist
    mcp_servers:
    - digitalocean
    mission: build
    name: Quill
    role: "Infrastructure Ops \u2014 DigitalOcean Monitor"
  shuri:
    heartbeat_offset: 8
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Shuri
    role: Testing & QA
  vision:
    agent_class: healer
    heartbeat_interval: 3600
    heartbeat_offset: 0
    level: lead
    mcp_servers: []
    name: Vision
    role: System Healer / Ops Monitor
  wanda:
    heartbeat_offset: 18
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Wanda
    role: Developer
  wong:
    heartbeat_offset: 6
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Wong
    role: Documentation
  scout:
    heartbeat_interval: 21600
    heartbeat_offset: 5
    level: specialist
    mcp_servers:
    - tavily
    - github
    mission: content
    name: Scout
    role: Trend Researcher
  ink:
    heartbeat_offset: 20
    level: specialist
    mcp_servers:
    - tavily
    - github
    mission: content
    name: Ink
    role: SEO Writer
  sage:
    heartbeat_interval: 28800
    heartbeat_offset: 22
    level: specialist
    mcp_servers:
    - github
    mission: content
    name: Sage
    role: Quality Editor
  ezra:
    heartbeat_interval: 10800
    heartbeat_offset: 24
    level: specialist
    mcp_servers:
    - github
    mission: content
    name: Ezra
    role: Publisher
  herald:
    heartbeat_interval: 43200
    heartbeat_offset: 26
    level: specialist
    mcp_servers:
    - tavily
    - github
    mission: content
    name: Herald
    role: Social Amplifier
  lurker:
    always_run:
      prompt: >
        You are Lurker, the Reddit Scout. Search Reddit and forums for
        outreach opportunities using Tavily. Note subreddit, thread title,
        relevance, and suggested engagement approach. Commit findings to
        the content repository via GitHub MCP.
      timeout: 120
    heartbeat_interval: 28800
    heartbeat_offset: 28
    level: specialist
    mcp_servers:
    - tavily
    - github
    mission: content
    name: Lurker
    role: Reddit Scout
  morgan:
    heartbeat_interval: 28800
    heartbeat_offset: 32
    level: lead
    mcp_servers:
    - github
    - telegram
    mission: content
    name: Morgan
    role: Content Project Manager
  archie:
    always_run:
      prompt: >
        You are Archie, the Analytics Reporter. Generate a weekly analytics
        report. Use GitHub to check repo activity and count content pieces
        per pipeline stage. Use Tavily to check competitor content and
        trending topics. Write a concise report with throughput, top topics,
        recommendations, and gap analysis. Commit to the content repository.
      timeout: 180
    heartbeat_interval: 604800
    heartbeat_offset: 30
    level: specialist
    mcp_servers:
    - tavily
    - github
    mission: content
    name: Archie
    role: Analytics Reporter
available_guards:
- files_changed_ok
- has_branch
- has_draft
- has_error
- has_open_pr
- has_research
- has_social_posts
- is_published
- is_stale
- needs_revision
- no_open_pr
- quality_approved
missions:
  build:
    default_config:
      source_branch: main
    description: "Developer workflow: branch \u2192 code \u2192 PR"
    initial_state: ASSIGNED
    verify_strategy: pr
    states:
    - IN_PROGRESS
    state_agents:
      ASSIGNED: Developer
      IN_PROGRESS: Developer
      REVIEW: Developer
    stages:
      ASSIGNED:
        pre_actions:
        - action: ensure_branch
          base: '{source_branch}'
          branch: '{branch_name}'
          repository: '{owner}/{repo}'
        prompt_template: build_dev
      IN_PROGRESS:
        post_check: pr_exists
        prompt_template: build_dev
    transitions:
    - from: ASSIGNED
      to: IN_PROGRESS
    - from: IN_PROGRESS
      guard: has_open_pr
      to: REVIEW
    - from: IN_PROGRESS
      guard: has_error
      to: ASSIGNED
  content:
    description: "Content pipeline: research \u2192 write \u2192 review \u2192 publish \u2192 promote"
    initial_state: RESEARCH
    verify_strategy: none
    default_config:
      repository: owner/content-repo
    states:
    - RESEARCH
    - DRAFT
    - PUBLISH
    - PROMOTE
    state_agents:
      RESEARCH: "Trend Researcher"
      DRAFT: "SEO Writer"
      REVIEW: "Quality Editor"
      PUBLISH: "Publisher"
      PROMOTE: "Social Amplifier"
    stages:
      RESEARCH:
        pre_actions:
        - action: tavily_search
          query: '{title} relevant keywords'
          max_results: 5
        prompt_base: content_base
        prompt_template: content_research
        post_actions:
        - action: github_commit
          path: content/research/{short_id}-research.md
          message: 'research: {title}'
      DRAFT:
        pre_actions:
        - action: github_read
          path: content/research/{short_id}-research.md
        prompt_base: content_base
        prompt_template: content_draft
        post_actions:
        - action: github_commit
          path: content/drafts/{short_id}-article.md
          message: 'draft: {title}'
      REVIEW:
        pre_actions:
        - action: github_read
          path: content/drafts/{short_id}-article.md
        prompt_base: content_base
        prompt_template: content_review
        post_check: review_approved
        post_actions:
        - action: github_commit
          path: content/drafts/{short_id}-article.md
          message: 'review: [approved] {title}'
      PUBLISH:
        pre_actions:
        - action: github_read
          path: content/drafts/{short_id}-article.md
        prompt_base: content_base
        prompt_template: content_publish
        post_actions:
        - action: github_commit
          path: content/published/{short_id}-article.md
          message: 'publish: {title}'
      PROMOTE:
        pre_actions:
        - action: github_read
          path: content/published/{short_id}-article.md
        prompt_base: content_base
        prompt_template: content_promote
        post_actions:
        - action: github_commit
          path: content/social/{short_id}-social.md
          message: 'promote: social posts for {title}'
    transitions:
    - from: RESEARCH
      guard: has_research
      to: DRAFT
    - from: DRAFT
      guard: has_draft
      to: REVIEW
    - from: REVIEW
      guard: quality_approved
      to: PUBLISH
    - from: REVIEW
      guard: needs_revision
      to: DRAFT
    - from: PUBLISH
      guard: is_published
      to: PROMOTE
    - from: PROMOTE
      guard: has_social_posts
      to: DONE
  verify:
    description: "Review workflow: check PR exists \u2192 approve or reject"
    initial_state: REVIEW
    transitions:
    - from: REVIEW
      guard: has_open_pr
      to: DONE
    - from: REVIEW
      guard: no_open_pr
      to: ASSIGNED
version: '1.0'
