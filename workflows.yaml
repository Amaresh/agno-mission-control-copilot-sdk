agents:
  friday:
    heartbeat_offset: 2
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Friday
    role: Developer
  fury:
    heartbeat_offset: 10
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Fury
    role: Developer
  jarvis:
    heartbeat_offset: 0
    level: lead
    mcp_servers:
    - github
    - telegram
    mission: verify
    name: Jarvis
    role: Squad Lead / Coordinator
  loki:
    heartbeat_offset: 14
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Loki
    role: Developer
  pepper:
    heartbeat_offset: 12
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Pepper
    role: Developer
  quill:
    always_run:
      prompt: "Run your infrastructure monitoring checklist NOW.\nUse your DigitalOcean\
        \ MCP tools to check:\n1. List all apps \u2014 check each status (ACTIVE/DEPLOYING/ERROR)\n\
        2. List all databases \u2014 check each status (ONLINE/MAINTENANCE/etc)\n\
        3. List all droplets \u2014 check each status (active/off)\n4. For any app\
        \ NOT in ACTIVE state, get its recent deployments and logs\n5. Check for any\
        \ deployment failures in the last hour\nWrite a health summary. Report issues\
        \ with severity.\nIf everything is healthy, confirm all-clear with counts.\n"
      timeout: 60
    heartbeat_offset: 16
    level: specialist
    mcp_servers:
    - digitalocean
    mission: build
    name: Quill
    role: "Infrastructure Ops \u2014 DigitalOcean Monitor"
  shuri:
    heartbeat_offset: 8
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Shuri
    role: Testing & QA
  vision:
    agent_class: healer
    heartbeat_interval: 3600
    heartbeat_offset: 0
    level: lead
    mcp_servers: []
    name: Vision
    role: System Healer / Ops Monitor
  wanda:
    heartbeat_offset: 18
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Wanda
    role: Developer
  wong:
    heartbeat_offset: 6
    level: specialist
    mcp_servers:
    - github
    mission: build
    name: Wong
    role: Documentation
available_guards:
- files_changed_ok
- has_branch
- has_error
- has_open_pr
- is_stale
- no_open_pr
missions:
  build:
    default_config:
      source_branch: main
    description: "Developer workflow: branch \u2192 code \u2192 PR"
    initial_state: ASSIGNED
    verify_strategy: pr
    states:
    - IN_PROGRESS
    state_agents:
      ASSIGNED: Developer
      IN_PROGRESS: Developer
      REVIEW: Developer
    stages:
      ASSIGNED:
        pre_actions:
        - action: ensure_branch
          base: '{source_branch}'
          branch: '{branch_name}'
          repository: '{owner}/{repo}'
        prompt_template: build_dev
      IN_PROGRESS:
        post_check: pr_exists
        prompt_template: build_dev
    transitions:
    - from: ASSIGNED
      to: IN_PROGRESS
    - from: IN_PROGRESS
      guard: has_open_pr
      to: REVIEW
    - from: IN_PROGRESS
      guard: has_error
      to: ASSIGNED
  content:
    description: "Content pipeline: research \u2192 write \u2192 review \u2192 publish \u2192 promote"
    initial_state: RESEARCH
    verify_strategy: none
    default_config:
      repository: owner/content-repo
    states:
    - RESEARCH
    - DRAFT
    - PUBLISH
    - PROMOTE
    state_agents:
      RESEARCH: "Trend Researcher"
      DRAFT: "SEO Writer"
      REVIEW: "Quality Editor"
      PUBLISH: "Publisher"
      PROMOTE: "Social Amplifier"
    stages:
      RESEARCH:
        pre_actions:
        - action: tavily_search
          query: '{title} relevant keywords'
          max_results: 5
        prompt_base: content_base
        prompt_template: content_research
        post_actions:
        - action: github_commit
          path: content/research/{short_id}-research.md
          message: 'research: {title}'
      DRAFT:
        pre_actions:
        - action: github_read
          path: content/research/{short_id}-research.md
        prompt_base: content_base
        prompt_template: content_draft
        post_actions:
        - action: github_commit
          path: content/drafts/{short_id}-article.md
          message: 'draft: {title}'
      REVIEW:
        pre_actions:
        - action: github_read
          path: content/drafts/{short_id}-article.md
        prompt_base: content_base
        prompt_template: content_review
        post_check: review_approved
        post_actions:
        - action: github_commit
          path: content/drafts/{short_id}-article.md
          message: 'review: [approved] {title}'
      PUBLISH:
        pre_actions:
        - action: github_read
          path: content/drafts/{short_id}-article.md
        prompt_base: content_base
        prompt_template: content_publish
        post_actions:
        - action: github_commit
          path: content/published/{short_id}-article.md
          message: 'publish: {title}'
      PROMOTE:
        pre_actions:
        - action: github_read
          path: content/published/{short_id}-article.md
        prompt_base: content_base
        prompt_template: content_promote
        post_actions:
        - action: github_commit
          path: content/social/{short_id}-social.md
          message: 'promote: social posts for {title}'
    transitions:
    - from: RESEARCH
      to: DRAFT
    - from: DRAFT
      to: REVIEW
    - from: REVIEW
      to: PUBLISH
    - from: PUBLISH
      to: PROMOTE
    - from: PROMOTE
      to: DONE
  verify:
    description: "Review workflow: check PR exists \u2192 approve or reject"
    initial_state: REVIEW
    transitions:
    - from: REVIEW
      guard: has_open_pr
      to: DONE
    - from: REVIEW
      guard: no_open_pr
      to: ASSIGNED
version: '1.0'
